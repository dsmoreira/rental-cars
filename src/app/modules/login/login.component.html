<app-loading *ngIf="loading$ | async"></app-loading>
<mat-icon class="login-close-icon" (click)="returnHome()">close</mat-icon>
<div class="main-wrapper background-color-primary">
  <mat-card class="login-card">
    <form class="login-form">
      <mat-card-header class="login-card-header">
        <app-logo></app-logo>
      </mat-card-header>
      <mat-card-content class="form-content">
        <mat-form-field>
          <input
            matInput
            placeholder="Usuário"
            [formControl]="username"
            mask="000.000.000-00"
          />
          <mat-error *ngIf="username.hasError('required')">
            Usuário <strong>obrigatório</strong>
          </mat-error>
          <mat-error *ngIf="username.hasError('mask')">
            Cpf <strong>inválido</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <input
            type="password"
            matInput
            placeholder="Senha"
            [formControl]="password"
          />
          <mat-error *ngIf="password.hasError('required')">
            Senha <strong>obrigatória</strong>
          </mat-error>
        </mat-form-field>
      </mat-card-content>
      <button
        [disabled]="loading$ | async"
        mat-flat-button
        color="primary"
        class="btn-entrar"
        (click)="login()"
      >
        Entrar
      </button>
      <a class="signup-link" [routerLink]="['/signup']">Cadastre-se</a>
    </form>
  </mat-card>
</div>
